<html lang="en" xmlns:th="http://www.thymeleaf.org">

<th:block th:fragment="header">

    <nav class="navbar navbar-color-on-scroll navbar-transparent fixed-top  navbar-expand-lg" color-on-scroll="100" id="sectionsNav">
        <div class="container">
            <div class="navbar-translate">
                <a class="navbar-brand" href="index.html" th:href="@{/}">
                    Recipes
                </a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="navbar-toggler-icon"></span>
                    <span class="navbar-toggler-icon"></span>
                    <span class="navbar-toggler-icon"></span>
                </button>
            </div>
            <div class="collapse navbar-collapse">
                <ul class="navbar-nav ml-auto">
                    <li class="button-container nav-item iframe-extern">
                        <a href="test.html" th:href="@{/test}">테스트 페이지로</a>
                    </li>
                    <li class="dropdown nav-item">
                        <a href="#" class="dropdown-toggle nav-link" data-toggle="dropdown">
                            <i class="material-icons">apps</i> 레시피
                        </a>
                        <div class="dropdown-menu dropdown-with-icons">
                            <a href="./recipe/recipeList.html" class="dropdown-item" th:href="@{/recipes}">
                                <i class="material-icons">store</i> 레시피 보기
                            </a>
                            <a href="./recipe/recipeList.html" class="dropdown-item" th:href="@{/recipes/search}">
                                <i class="material-icons">search</i> 레시피 검색
                            </a>
                        </div>
                    </li>
                    <li class="dropdown nav-item" th:if="${user != null}">
                        <a href="#" class="dropdown-toggle nav-link" data-toggle="dropdown">
                            <i class="material-icons">account_circle</i> 나의 메뉴
                        </a>
                        <div class="dropdown-menu dropdown-with-icons">
                            <a href="user/userInfo.html" th:href="@{/cookers/info}" class="dropdown-item">
                                <i class="material-icons">assignment</i> 나의 정보
                            </a>
                            <a href="#" th:href="@{/}" class="dropdown-item">
                                <i class="material-icons">monetization_on</i> 나의 레시피
                            </a>
                            <a href="#" class="dropdown-item">
                                <i class="material-icons">chat</i> 내가 좋아요한 레시피
                            </a>
                        </div>
                    </li>
                    <li class="button-container nav-item iframe-extern" th:if="${user == null}">
                        <button class="btn btn-sm btn-link btn-block btn-round" data-toggle="modal" data-target="#loginModal">
                            로그인
                        </button>
                    </li>
                    <li class="button-container nav-item iframe-extern" th:unless="${user == null}">
                        <a href="#" th:href="@{/logout}" class="btn btn-sm btn-link btn-round btn-block">
                            로그아웃
                        </a>
                    </li>
                    <li class="button-container nav-item iframe-extern">
                        <a href="#" class="btn btn-sm btn-rose btn-block btn-round">
                            <i class="material-icons">shopping_cart</i> 레시피 등록
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="modal fade" id="loginModal" tabindex="-1" role="dialog">
        <div class="modal-dialog modal-login" role="document">
            <div class="modal-content">
                <div class="card card-signup">
                    <div class="modal-header">
                        <div class="card-header card-header-primary text-center">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><i class="material-icons">clear</i></button>
                            <h4 class="card-title">로그인</h4>
                            <div class="social-line">
                                <p>
                                    구글로 로그인하기
                                </p>
                                <div class="modal-body">
                                    <a href="index.html" th:href="@{/oauth2/authorization/google}" id="google" class="btn btn-google btn-round">
                                        <i class="fa fa-google-plus"></i> Google
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</th:block>